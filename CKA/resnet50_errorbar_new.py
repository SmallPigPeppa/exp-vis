import numpy as np
import matplotlib.pyplot as plt

# 假设这是你的五组原始数据
msc_1 = [
    [0.86686814, 0.9487662, 0.81457496, 0.80563414, 0.86924875, 0.8473335, 0.8151213, 0.835907, 0.87818646, 0.8641954,
     0.8398758, 0.83992195, 0.8288264, 0.8055008, 0.7626018, 0.69983006, 0.52943283],
    [0.8874411, 0.9507347, 0.82206875, 0.8128547, 0.86844635, 0.8452996, 0.8154884, 0.836358, 0.87654525, 0.86329126,
     0.83876085, 0.83877677, 0.8264583, 0.8037672, 0.75881064, 0.6944415, 0.52922434],
    [0.87236166, 0.94520104, 0.8211486, 0.8129025, 0.8737021, 0.85057515, 0.81975937, 0.83797485, 0.8782526, 0.8657687,
     0.84199274, 0.8398321, 0.82763416, 0.8043645, 0.76219016, 0.70725626, 0.54032105],
    [0.8775482, 0.94901174, 0.8174832, 0.8086771, 0.8693852, 0.8470535, 0.8169335, 0.83636904, 0.88010603, 0.8663417,
     0.84078306, 0.8396514, 0.8284891, 0.8046165, 0.7604045, 0.7008207, 0.53573227],
    [0.8778995, 0.9461994, 0.814011, 0.8058722, 0.8696504, 0.8483186, 0.81813824, 0.8383404, 0.8774992, 0.86494505,
     0.84183764, 0.84289145, 0.8328449, 0.8102764, 0.7651682, 0.71053517, 0.541383]]

msc_2 = [
    [0.7261079, 0.8637194, 0.81801355, 0.9238493, 0.9389342, 0.84548986, 0.7918449, 0.7493827, 0.792423, 0.806652,
     0.8031177, 0.8199926, 0.83267725, 0.76134574, 0.8211259, 0.75483024, 0.70575166],
    [0.7351726, 0.8683021, 0.8057414, 0.92255723, 0.93918335, 0.8336286, 0.7537488, 0.6871467, 0.7034161, 0.7258237,
     0.7224162, 0.7482665, 0.7713979, 0.6630875, 0.7855953, 0.67515665, 0.7120486],
    [0.7431396, 0.87369597, 0.81105864, 0.9248887, 0.94259775, 0.85254, 0.7976745, 0.7548481, 0.79521894, 0.80871093,
     0.8043484, 0.8222956, 0.83580005, 0.766477, 0.82377595, 0.7552215, 0.7072351],
    [0.7471612, 0.8722119, 0.8182769, 0.9246001, 0.9408595, 0.84376496, 0.77011186, 0.7063004, 0.72281355, 0.74730253,
     0.74463105, 0.7685246, 0.7893276, 0.6904878, 0.79333454, 0.6924499, 0.7090521],
    [0.7241754, 0.8715937, 0.82460153, 0.93005544, 0.947254, 0.8698081, 0.83774763, 0.8144415, 0.86352676, 0.86385375,
     0.85845584, 0.86476403, 0.87092406, 0.83265346, 0.8507407, 0.8098591, 0.70483685]
]
msc_3 = [[0.67643225, 0.83220196, 0.8688956, 0.51080036, 0.78756195, 0.7607528, 0.7558821, 0.29241788, 0.17608592,
          0.13685037, 0.12902188, 0.1257518, 0.12761481, 0.14267258, 0.14846222, 0.109010816, 0.7228458],
         [0.65198547, 0.82546914, 0.86420107, 0.56158036, 0.8057673, 0.8017198, 0.8127745, 0.39368644, 0.22550957,
          0.16694643, 0.15392254, 0.14744307, 0.14722434, 0.16168319, 0.18521753, 0.13455282, 0.72312355],
         [0.6839882, 0.82614154, 0.86634433, 0.468609, 0.77723444, 0.72621226, 0.7156603, 0.26370612, 0.16852279,
          0.13989396, 0.13239558, 0.12939782, 0.13106854, 0.14791366, 0.1524757, 0.121622115, 0.7336923],
         [0.67249435, 0.83490455, 0.86743176, 0.4506088, 0.75743574, 0.7010353, 0.68477523, 0.24301283, 0.1583693,
          0.1323373, 0.12623423, 0.12289921, 0.12304586, 0.13979395, 0.13698776, 0.09922426, 0.73071736],
         [0.6891666, 0.8406781, 0.8744635, 0.4321199, 0.75019526, 0.6738555, 0.65709794, 0.2314211, 0.15906288,
          0.13893068, 0.13456856, 0.13273832, 0.13459748, 0.1514239, 0.14777263, 0.11665528, 0.7256152]]

baseline = [
    [0.5275422, 0.8610185, 0.8662829, 0.868927, 0.9054223, 0.847301, 0.83590686, 0.84170413, 0.81432694, 0.80233634,
     0.7891385, 0.7906134, 0.78350955, 0.7776911, 0.72205883, 0.68428063, 0.38949797],
    [0.5102537, 0.8354261, 0.83760244, 0.8387978, 0.8909996, 0.83488286, 0.82645583, 0.82800823, 0.81252515, 0.7855553,
     0.7584605, 0.7624618, 0.75643593, 0.7499394, 0.69178694, 0.61838436, 0.36067897],
    [0.58328384, 0.8652471, 0.8734789, 0.87765855, 0.91024905, 0.851475, 0.84595627, 0.8495972, 0.8328161, 0.81281275,
     0.7959118, 0.80284816, 0.7995625, 0.7881473, 0.7273588, 0.66325206, 0.4097332],
    [0.584143, 0.86125696, 0.86845136, 0.87242967, 0.90114844, 0.84408754, 0.83702224, 0.841348, 0.82566476, 0.8033199,
     0.7793521, 0.7807079, 0.7741741, 0.77067655, 0.7072371, 0.64162254, 0.41015384],
    [0.5069769, 0.83959424, 0.8512237, 0.8565624, 0.8899417, 0.8334117, 0.82602406, 0.82980144, 0.8075302, 0.7883523,
     0.762581, 0.76907635, 0.7669322, 0.764354, 0.70815504, 0.63714564, 0.37688184],
    [0.538471, 0.8557524, 0.8622704, 0.8671448, 0.9037194, 0.8495443, 0.84074056, 0.8439069, 0.82548946, 0.802837,
     0.7794099, 0.7833375, 0.7809603, 0.78015214, 0.7364542, 0.6553142, 0.42335922],
    [0.48007452, 0.8192889, 0.84000295, 0.84807724, 0.8806512, 0.81536674, 0.8140502, 0.81974953, 0.8078733, 0.78647333,
     0.7673427, 0.7686729, 0.7595099, 0.7553986, 0.7066742, 0.6483279, 0.42599458],
    [0.48805013, 0.83184075, 0.8517883, 0.85640436, 0.91029644, 0.8414409, 0.82838064, 0.83329207, 0.81684816,
     0.7858416, 0.7597418, 0.76421237, 0.7550103, 0.74796236, 0.68952674, 0.61409277, 0.3611607],
    [0.57460237, 0.86647433, 0.8713029, 0.8713469, 0.90363604, 0.851574, 0.8436918, 0.8483034, 0.8289745, 0.806763,
     0.7785081, 0.7812875, 0.776891, 0.77413976, 0.71287066, 0.66860676, 0.38736385],
    [0.52820516, 0.8590436, 0.87523764, 0.8788797, 0.90860367, 0.84940875, 0.83786225, 0.84530234, 0.8180133, 0.7923641,
     0.7642844, 0.7687199, 0.7626984, 0.75568134, 0.69275457, 0.62845623, 0.38851786]]

# 将数据转换为NumPy数组
data_a1_np = np.array(msc_1)
data_a2_np = np.array(msc_2)
data_a3_np = np.array(msc_3)
data_b_np = np.array(baseline)

# 计算每个维度的均值和标准差
means_a1 = data_a1_np.mean(axis=0)
std_devs_a1 = data_a1_np.std(axis=0)

means_a2 = data_a2_np.mean(axis=0)
std_devs_a2 = data_a2_np.std(axis=0)

means_a3 = data_a3_np.mean(axis=0)
std_devs_a3 = data_a3_np.std(axis=0)

means_b = data_b_np.mean(axis=0)
std_devs_b = data_b_np.std(axis=0)

# 设置x轴数据
x = np.arange(1, len(means_a2) + 1)

# 绘制方法A的平均值曲线和误差带
# plt.plot(x, means_a1, '-o', label='MSC-1', color='blue', linewidth=1)
# plt.fill_between(x, np.array(means_a1) - np.array(std_devs_a1), np.array(means_a1) + np.array(std_devs_a1),
#                  color='blue',
#                  alpha=0.2, edgecolor=None)

plt.plot(x, means_a2, '-o', label='Our', color='yellowgreen', linewidth=1)
plt.fill_between(x, np.array(means_a2) - np.array(std_devs_a2), np.array(means_a2) + np.array(std_devs_a2),
                 color='yellowgreen',
                 alpha=0.2, edgecolor=None)

# plt.plot(x, means_a3, '-o', label='MSC-3', color='pink', linewidth=1)
# plt.fill_between(x, np.array(means_a3) - np.array(std_devs_a3), np.array(means_a3) + np.array(std_devs_a3),
#                  color='pink',
#                  alpha=0.2, edgecolor=None)

# 绘制方法B的平均值曲线和误差带
plt.plot(x, means_b, '-o', label='Baseline', color='purple', linewidth=1)
plt.fill_between(x, np.array(means_b) - np.array(std_devs_b), np.array(means_b) + np.array(std_devs_b), color='purple',
                 alpha=0.2, edgecolor=None)

# 添加轴标签和标题
plt.xlabel('Block Index')
plt.ylabel('CKA')
plt.title('Resnet50', loc='left')

# 显示图例
plt.legend()
plt.grid()

# 显示图形

plt.savefig('mean_value_error_bands.pdf', format='pdf', bbox_inches='tight')
plt.show()
